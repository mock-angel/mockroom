!function(a){var b={};!function(a){a.styles='@font-face {  font-family: "warhelioscondcregular";  src: url("compiled/fonts/warhelioscondc-webfont.eot");  src: url("compiled/fonts/warhelioscondc-webfont.eot?#iefix") format("embedded-opentype"), url("compiled/fonts/warhelioscondc-webfont.woff") format("woff"), url("compiled/fonts/warhelioscondc-webfont.ttf") format("truetype"), url("compiled/fonts/warhelioscondc-webfont.svg") format("svg");  font-weight: normal;  font-style: normal; }@font-face {  font-family: "warhelioscondcbold";  src: url("compiled/fonts/warhelioscondcbold-webfont.eot");  src: url("compiled/fonts/warhelioscondcbold-webfont.eot?#iefix") format("embedded-opentype"), url("compiled/fonts/warhelioscondcbold-webfont.woff") format("woff"), url("compiled/fonts/warhelioscondcbold-webfont.ttf") format("truetype"), url("compiled/fonts/warhelioscondcbold-webfont.svg") format("svg");  font-weight: normal;  font-style: normal; }.ccw-tooltip {  transform: translateY(0);  transition: opacity .25s ease-out, transform .25s ease-out;  opacity: 0;  left: 0;  top: 0;  position: absolute;  -webkit-tap-highlight-color: transparent; }  .ccw-tooltip__open {    opacity: 1;    z-index: 100000;    transform: translateY(0); }  .ccw-tooltip__left-top, .ccw-tooltip__right-top {    transform: translateY(10px); }  .ccw-tooltip__left-bottom, .ccw-tooltip__right-bottom {    transform: translateY(-10px); }  .ccw-tooltip_holder {    position: absolute;    background: #171a1d;    border: 1px solid #424242; }    .ccw-tooltip_holder__left-top {      right: 0;      margin-right: -31px;      bottom: 0;      margin-bottom: 34px; }    .ccw-tooltip_holder__left-bottom {      right: 0;      margin-right: -31px;      top: 0;      margin-top: 34px; }    .ccw-tooltip_holder__right-top {      left: 0;      margin-left: -31px;      bottom: 0;      margin-bottom: 34px; }    .ccw-tooltip_holder__right-bottom {      left: 0;      margin-left: -31px;      top: 0;      margin-top: 34px; }    .ccw-tooltip_holder:after {      content: "";      position: absolute;      left: -20px;      top: -20px;      right: -20px;      bottom: -20px;      z-index: -1; }.ccw-tooltip-arrow {  position: absolute;  width: 62px;  height: 44px;  z-index: 2; }  .ccw-tooltip-arrow__left-top {    right: 0;    bottom: 0;    margin-right: -31px;    margin-bottom: 19px;    background: url(compiled/images/arrow-bottom.png) no-repeat; }  .ccw-tooltip-arrow__left-bottom {    right: 0;    top: 0;    margin-right: -31px;    margin-top: 19px;    background: url(compiled/images/arrow-top.png) no-repeat; }  .ccw-tooltip-arrow__right-top {    left: 0;    bottom: 0;    margin-left: -31px;    margin-bottom: 19px;    background: url(compiled/images/arrow-bottom.png) no-repeat; }  .ccw-tooltip-arrow__right-bottom {    left: 0;    top: 0;    margin-left: -31px;    margin-top: 19px;    background: url(compiled/images/arrow-top.png) no-repeat; }'}(b),function(b){var c=Array.prototype,d=Object.prototype,e=c.forEach,f=c.some,g=c.slice,h=d.hasOwnProperty,i=a.encodeURIComponent;b.debounce=function(a,b,c){var d,e,f,g,h,i,j;return j=Date.now||function(){return(new Date).getTime()},i=function(){var k=j()-g;k<b&&k>0?d=setTimeout(i,b-k):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))},function(){var k=c&&!d;return f=this,e=arguments,g=j(),d||(d=setTimeout(i,b)),k&&(h=a.apply(f,e),f=e=null),h}},b.extend=function(){var a,b,c,d=g.call(arguments),e=d[0]||{},f=d.length;for(a=1;a<f;a++){b=d[a];for(c in b)h.call(b,c)&&"undefined"!=typeof b[c]&&(e[c]=b[c])}return e},b.forEach=function(a,c,d){var f,g,i;if(a){if(b.isArrayLike(a)){if(e)return e.call(a,c,d);for(i=0,f=a.length;i<f;i++)c.call(d,a[i],i,a)}else for(g in a)h.call(a,g)&&c.call(d,a[g],g,a);return a}},b.some=function(a,c,d){var e,g,i=!b.isArrayLike(a)&&b.keys(a),j=(i||a).length;if(!i&&f)return f.call(a,c,d);for(g=0;g<j;g++)if(e=i?i[g]:g,h.call(a,e)&&c.call(d,a[e],e,a)===!0)return!0;return!1},b.hasAnyProperty=function(a){var b;for(b in a)if(h.call(a,b))return!0;return!1},b.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===d.toString.call(a)},b.trim=function(a){return"function"!=typeof String.prototype.trim?a.replace(/^\s+|\s+$/g,""):a.trim()},b.isArrayLike=function(a){var b,c=Math.pow(2,53)-1;return a&&a.length&&(b=a.length),"number"==typeof b&&b>=0&&b<=c},b.keys=function(a){var b,c=[];if(!a||"object"!=typeof a||null===typeof a)return[];if(Object.keys)return Object.keys(a);for(b in a)h.call(a,b)&&c.push(b);return c},b.template=function(a,b){var c,d={endif:"}","else":"} else {",and:"&&",or:"||",endfor:"});"},e=function(a,b){return new Function("obj",["var p = [], u = WG.ContextWidgets.utils, widgetFunctions = WG.ContextWidgets.getWidgetFunctions(obj.widget_type);","with (obj) { p.push('",a.replace(/\{%(.+?)%\}/g,function(a,b){return b=b.replace(/^\s+|\s+$/g,"").split(" and ").join(" && ").split(" or ").join(" || ").split(" not ").join(" !").replace(/^set\s+(.*?)$/,"var $1;").replace(/^expr\s+(.*?)$/,"$1;").replace(/^for\s+(.*?)\s+in\s+(.*?)$/,"forEach($2, function($1, key) {").replace(/^if\s+(.*?)$/,"if ($1) {").replace(/^elif(.*?)$/,"} else if ($1) {"),"<% "+(d[b]||b)+" %>"}).replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%~(.+?)%>/g,"',$1,'").replace(/<%=(.+?)%>/g,"',escape($1),'").split("<%").join("');").split("%>").join("p.push('"),'\');}return p.join("");'].join(""))(b)};return c=e(a,b)},b.formatNumber=function(a,b){var c,d,e=/(\d)(?=(\d{3})+(?!\d))/g;return 0===a?"0":a?"ar"===b?a:(a=a.toString(),a.indexOf(".")===-1?a.replace(e,"$1 "):(d=a.indexOf("."),c=a.substr(0,d),c.toString().replace(e,"$1 ")+"."+a.substr(d+1))):""},b.formatTime=function(a,c){var d=new Date;return d.setTime(1e3*a),c.replace(/([a-zA-Z])/g,function(a,c){switch(c){case"Y":return d.getFullYear();case"M":return b.lz(d.getMonth()+1);case"d":return b.lz(d.getDate());case"H":return b.lz(d.getHours());case"m":return b.lz(d.getMinutes());case"s":return b.lz(d.getSeconds());default:throw new Error("Unsupported format code: "+c)}})},b.lz=function(a){return a.toString().length<2?"0"+a:a},b.toQueryString=function(a){var b,c=[];for(b in a)h.call(a,b)&&c.push(i(b)+"="+i(a[b]));return c.join("&")},b.addQueryString=function(a,b){if(b){var c=a&&a.indexOf("?")!==-1,d=a&&a.indexOf("#")!==-1,e=c?"&":"?";d?a=a.substr(0,a.indexOf("#"))+e+b+a.substr(a.indexOf("#")):a+=e+b}return a},b.typeWithoutRealm=function(a){return a.replace(/__[a-z0-9_]+$/,"")},b.escape=function(){var a,b,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=function(a){return c[a]},e=[];for(a in c)h.call(c,a)&&e.push(a);return b=new RegExp("(?:"+e.join("|")+")","g"),function(a){return"string"==typeof a?a.replace(b,d):a}}()}(b.utils={}),function(b,c,d){function e(a){return a=g+a+g,a.replace(h,g)}function f(a,c,d){var f,g,h,k;if(b.isElement(a)){for(g=e(a.className),f=(c||"").match(i)||[],k=0,h=f.length;k<h;k++)g=d(g,f[k]);c=g.replace(j,""),a.className!==c&&(a.className=c)}}var g=" ",h=/[\s\t\r\n\f]+/g,i=/\S+/g,j=/^\s+|\s+$/g,k=720,l=Object.prototype.hasOwnProperty;b.handlerId=0,b.isElement=function(a){return a&&1===a.nodeType},b.addClass=function(a,b){f(a,b,function(a,b){return a.indexOf(b)<0&&(a+=b+g),a})},b.removeClass=function(a,b){f(a,b,function(a,b){for(b=g+b+g;a.indexOf(b)>=0;)a=a.replace(b,g);return a})},b.hasClass=function(a,c){return!!b.isElement(a)&&(c=g+c+g,e(a.className).indexOf(c)>=0)},b.findByClass=function(a,e){var f=[];return e=e?e:d,e.getElementsByClassName?e.getElementsByClassName(a):e.querySelectorAll?e.querySelectorAll("."+a):(c.forEach(e.getElementsByTagName("*"),function(c){b.hasClass(c,a)&&f.push(c)}),f)},b.getElementOffset=function(c){var d,e,f={top:0,left:0},g=c&&c.ownerDocument;if(g)return d=g.documentElement,b.hasParent(c,d)?(void 0!==c.getBoundingClientRect&&(f=c.getBoundingClientRect()),e=a,{top:f.top+(e.pageYOffset||d.scrollTop)-(d.clientTop||0),left:f.left+(e.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}):f},b.hasParent=function(a,b){for(;a=a.parentNode;)if(a===b)return!0;return!1},b.areParentsHaveClass=function(a,c){for(;a=a.parentNode;)if(b.hasClass(a,c))return!0;return!1},b.remove=function(a){if(b.isElement(a))return a.remove?void a.remove():void(a.parentNode&&a.parentNode.removeChild(a))},b.addEventListener=function(a,d,e){a&&(e.handlerId||(e.handlerId=++b.handlerId),a.commonHandle=function(c){var d,e=new b.Event(c),f=a.events[c.type];for(d in f)l.call(f,d)&&f[d].call(a,e)===!1&&c.stop()},a.events||(a.events={},a.fixedListener=function(b){if("undefined"!=typeof Event)return a.commonHandle.call(a,b)}),c.forEach(d.split(/\s+/),function(b){a.events[b]||(a.events[b]={},a.addEventListener?a.addEventListener(b,a.fixedListener,!1):a.attachEvent&&a.attachEvent("on"+b,a.fixedListener)),a.events[b][e.handlerId]=e}))},b.removeEventListener=function(a,b,d){c.forEach(b.split(/\s+/),function(b){var e=a.events&&a.events[b];if(e&&(delete e[d.handlerId],!c.hasAnyProperty(e)&&(a.removeEventListener?a.removeEventListener(b,a.fixedListener,!1):a.detachEvent&&a.detachEvent("on"+b,a.fixedListener),delete a.events[b],!c.hasAnyProperty(a.events))))try{delete a.fixedListener,delete a.events}catch(f){a.removeAttribute("fixedListener"),a.removeAttribute("events")}})},b.supportsCSSTransitions=function(){var a=d.body||d.documentElement,b=a.style,e="transition",f=["Moz","webkit","Webkit","Khtml","O","ms"];return"string"==typeof b[e]||(e=e.charAt(0).toUpperCase()+e.substr(1),c.some(f,function(a){if("string"==typeof b[a+e])return!0}))}(),b.Event=function(a){this.target=a.target||a.srcElement,this.originalEvent=a},b.Event.prototype={preventDefault:function(){var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}},b.DOMChanged=function(a,b){a=parseInt(a)||0,a>0&&setInterval(b,1e3*a)},b.meetsMinimumWidth=function(){return k<=d.body.scrollWidth},b.containsTextOnly=function(a){for(var b=a.childNodes,c=0;c<b.length;c++)if(b[c].nodeType!==Node.TEXT_NODE)return!1;return!0}}(b.DOM={},b.utils,a.document),function(b,c,d){function e(b){function d(a,c){var d,e=b.createElement(a);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e}function e(a,b,c,d,e,f){function g(a,c,d){k=d?d:c.obj,a&&("function"==typeof a?a.call(c.context,k):"object"==typeof a&&("function"==typeof a[b]&&a[b].call(c.context,k),"function"==typeof a.complete&&a.complete.call(c.context,k)))}var i,j,k,l=s[a];f&&clearTimeout(f),c&&"js"===a&&(c.parentNode&&c.parentNode.removeChild(c),c.onload=c.onerror=c.onreadystatechange=null),l&&(i=l.callback,j=l.urls,t=0,j.shift(),j.length?e&&g(i,l,d):(g(i,l,d),s[a]=null,v[a].length&&h(a)))}function f(){var a=navigator.userAgent;n={async:b.createElement("script").async===!0},(n.webkit=/AppleWebKit\//.test(a))||(n.ie=/MSIE|Trident/.test(a))||(n.opera=/Opera/.test(a))||(n.gecko=/Gecko\//.test(a))||(n.unknown=!0)}function g(a,b,c,d,f,g){return function(){e(a,b,c,d,f,g)}}function h(a,c,h,k,l,m){function p(b,c){var d=setTimeout(function(){e(a,"error",b,c,!0)},m);b.onload=g(a,"success",b,c,!0,d),b.onerror=g(a,"error",b,c,!0,d)}var r,t,u,w,x,y,z="css"===a,A=[];if(n||f(),m=m?m:q,c)if(c="string"==typeof c?[c]:c.concat(),z||n.async||n.gecko||n.opera)v[a].push({urls:c,callback:h,obj:k,context:l});else for(r=0,t=c.length;r<t;++r)v[a].push({urls:[c[r]],callback:r===t-1||m?h:null,obj:k,context:l,timeout:m?m:0});if(!s[a]&&(w=s[a]=v[a].shift())){for(o||(o=b.head||b.getElementsByTagName("head")[0]),x=w.urls.concat(),r=0,t=x.length;r<t;++r)"object"==typeof x[r]?(y=x[r].url,k=x[r].obj):y=x[r],u=z?n.gecko?d("style"):d("link",{href:y,rel:"stylesheet"}):d("script",{src:y}),u.className="lazyload",u.setAttribute("charset","utf-8"),n.ie&&!z&&"onreadystatechange"in u&&!("draggable"in u)?u.onreadystatechange=function(){w.timeout&&/loading/.test(u.readyState)&&(w.timeoutID=setTimeout(function(){e(a,"error",u,k,!0)},w.timeout)),/loaded|complete/.test(u.readyState)&&e(a,"success",u,k,!1,w.timeoutID)}:z&&(n.gecko||n.webkit)?n.webkit?(w.urls[r]=u.href,j()):(u.innerHTML='@import "'+y+'";',i(u)):m?(u.onload=g(a,"success",u,k,!0),u.onerror=g(a,"error",u,k,!0)):(u.onload=g(a,"success",u,k),u.onerror=g(a,"error",u,k)),A.push({node:u,obj:k});for(r=0,t=A.length;r<t;++r)!m||n.ie&&("onreadystatechange"in u||!("draggable"in u))||z||p(A[r].node,A[r].obj),o.appendChild(A[r].node)}}function i(a){var b;try{b=!!a.sheet.cssRules}catch(c){return t+=1,void(t<u?setTimeout(function(){i(a)},r):b&&e("css"))}e("css")}function j(){var a,b=s.css;if(b){for(a=w.length-1;a>=0;){if(w[a].href===b.urls[0]){e("css");break}a--}t+=1,b&&(t<u?setTimeout(j,r):e("css"))}}function k(){}function l(b){var c,d,e=a.encodeURIComponent,f=[];for(c in b)b.hasOwnProperty(c)&&(d=b[c],f.push(e(c)+"="+e(d)));return f.join("&")}function m(a){for(var b="";b.length<a;)b+=Math.random().toString(36).charAt(2);return b}var n,o,p=15,q=1e4,r=50,s={},t=0,u=parseInt(q/r,10),v={css:[],js:[]},w=b.styleSheets;this.css=function(a,b,c,d){h("css",a,b,c,d)},this.js=function(a,b,c,d,e){h("js",a,b,c,d,e)},this.jsonp=function(b){b=c.extend({callback_name:"callback",url:"",data:{},success:k,error:k,complete:k,timeout:q},b),b.data[b.callback_name]||(b.data[b.callback_name]="jsonp_"+m(p));var d=b.data[b.callback_name];b.url+=b.url.indexOf("?")===-1?"?":"&",b.url+=l(b.data),a[d]=function(c){b.success(c);try{return delete a[d]}catch(e){return a[d]=!1,!1}},h("js",[b.url],{error:b.error,complete:b.complete})}}b.LazyLoad=new e(d)}(b,b.utils,a.document),function(b,c,d,e){function f(a){this.options=c.extend({},this.defaults,a),this.uid=this.options.uid||f.uid(),this.element=this.createElement(),this.allowDestroy=!0,this.allowRender=!0}var g=Object.prototype.hasOwnProperty;f.uid=function(){var a=1;return function(){return"ccw-tooltip-"+ ++a}}(),f.presets={},f.create=function(a){var b,d;return g.call(f.presets,a)?(b=f.presets[a],d="function"==typeof b?b():c.extend({},b),new f(d)):null},f.prototype={defaults:{renderTo:null,target:null,onRenderCallback:null,onDestroyCallback:null,text:"",outerClassName:"ccw-tooltip",innerClassName:"ccw-tooltip_holder",arrowClassName:"ccw-tooltip-arrow",openedClass:"ccw-tooltip__open",removeDelay:300,renderDelay:500,removeDuration:10},bodyTouchClickHandlerRegister:null,bodyResizeHandlerRegister:null,mouseX:0,mouseY:0,moreSpaceByX:"left",moreSpaceByY:"top",isTooltipOpened:!1,createElement:function(){var a=document.createElement("div"),b=document.createElement("div"),c=document.createElement("span"),d=this.options.outerClassName,e=this.options.innerClassName,f=this.options.arrowClassName;return a.setAttribute("id",this.uid),a.className=d,this.options.type&&(a.className+=" "+d+"__"+this.options.type),b.className=e,c.className=f,b.innerHTML=this.options.text,a.appendChild(c),a.appendChild(b),this.attachDestroyEvent(a),this.attachDestroyEvent(this.options.target),this.attachPreventDestroyEvent(a),this.attachPreventDestroyEvent(this.options.target),a},attachDestroyEvent:function(a){var b=this,c=function(a){b.allowRender=!1,b.allowDestroy=!0,setTimeout(function(){b.allowDestroy&&b.destroy()},b.options.removeDelay)};this.bodyTouchClickHandlerRegister||(this.bodyTouchClickHandlerRegister=function(a){var c=a.target;c===b.element||d.hasParent(c,b.element)||d.hasClass(c,WG.ContextWidgets.WORDS_CLASS)||d.areParentsHaveClass(c,WG.ContextWidgets.WORDS_CLASS)||(b.allowRender=!1,b.allowDestroy=!0,b.destroy())}),d.addEventListener(a,"mouseout",c),d.addEventListener(document.body,"touchend",this.bodyTouchClickHandlerRegister)},attachPreventDestroyEvent:function(a){var b=this;d.addEventListener(a,"mouseover",function(a){b.allowDestroy=!1})},updatePosition:function(){var b=this.element,c=(this.options,document.documentElement),d=b.childNodes[1],e=b.childNodes[0],f=d.offsetWidth,g=a.pageYOffset||c.scrollTop,h=a.pageXOffset||c.scrollLeft,i=this.mouseX,j=this.mouseY,k=a.innerWidth||c.clientWidth,l=a.innerHeight||c.clientHeight;i-h>k/2?(this.moreSpaceByX="left",i-h<f&&(d.style.right="-"+(f-(i-h))+"px")):(this.moreSpaceByX="right",k+h-i<f&&(d.style.left="-"+(f+i-(k+h))+"px")),j-g>l/2?this.moreSpaceByY="top":this.moreSpaceByY="bottom",this.updatePositionClass(b,this.options.outerClassName),this.updatePositionClass(d,this.options.innerClassName),this.updatePositionClass(e,this.options.arrowClassName),this.updateTooltipHintPosition(),b.style.left=i+"px",b.style.top=j+"px"},updateTooltipHintPosition:function(){var a=this;c.forEach(this.element.querySelectorAll("[data-title]"),function(b){var d=b.className?c.trim(b.className).split(" "):[];d[0]&&a.updatePositionClass(b,d[0])})},updateContent:function(a){var b=this.element,c=b.childNodes[1];c.innerHTML=a,this.updateTooltipHintPosition()},removePositionClass:function(a,b){d.removeClass(a,b+"__left-top"),d.removeClass(a,b+"__right-top"),d.removeClass(a,b+"__left-bottom"),d.removeClass(a,b+"__right-bottom")},updatePositionClass:function(a,b){this.removePositionClass(a,b),d.addClass(a,b+"__"+this.moreSpaceByX+"-"+this.moreSpaceByY)},deferredRender:function(){var b=this.options,e=this,f=function(){e.allowRender&&(b.renderTo.appendChild(e.element),e.updatePosition(),d.addClass(e.element,b.openedClass),"function"==typeof b.onRenderCallback&&b.onRenderCallback.call(),e.isTooltipOpened=!0)};"function"==typeof b.renderTo&&(b.renderTo=b.renderTo()),d.isElement(b.renderTo)&&d.isElement(b.target)&&(e.allowRender=!0,this.bodyTouchClickHandlerRegister&&(d.removeEventListener(document.body,"touchend",this.bodyTouchClickHandlerRegister),d.addEventListener(document.body,"touchend",this.bodyTouchClickHandlerRegister)),this.bodyResizeHandlerRegister||(this.bodyResizeHandlerRegister=c.debounce(function(){e.destroy()},100)),d.removeEventListener(a,"resize",this.bodyResizeHandlerRegister),d.addEventListener(a,"resize",this.bodyResizeHandlerRegister),setTimeout(f,b.renderDelay))},destroy:function(){var b=this.options,c=this,e=function(){"function"==typeof b.onDestroyCallback&&b.onDestroyCallback.call(),d.remove(c.element),c.isTooltipOpened=!1};d.removeClass(this.element,b.openedClass),this.removePositionClass(this.element,this.options.outerClassName),this.bodyTouchClickHandlerRegister&&d.removeEventListener(document.body,"touchend",this.bodyTouchClickHandlerRegister),this.bodyResizeHandlerRegister&&d.removeEventListener(a,"resize",this.bodyResizeHandlerRegister),d.supportsCSSTransitions?setTimeout(e,b.removeDuration):e()}},b.Tooltip=f}(b,b.utils,b.DOM),function(a,b,c,d){function e(a){var b=[],c=WG.ContextWidgets.getOptions(),e=document.location.protocol+"//";return d.forEach(a,function(a){b.push(e+c.server+g+a+"/"+c.language+"/template.js")}),b}function f(a,b){var c=document.location.protocol+"//",d=WG.ContextWidgets.getOptions();return c+d.server+h+a+"/?word="+encodeURIComponent(b)+"&language="+d.language}var g="/compiled/templates/",h="/content/",i="compiled/";a.loadTemplates=function(a,b){var d=[].concat(e(a));d.length>0?c.js(d,b):b()},a.loadContent=function(a,b,d){c.js([f(a,b)],d)},a.fixRelativeUrls=function(a){var b,c=WG.ContextWidgets.getOptions();return b=a.replace(new RegExp(i,"g"),"//"+c.server+"/"+i)}}(b.provider={},b.DOM,b.LazyLoad,b.utils),function(a,b,c){function d(a,b){var d,e,f,g=WG.ContextWidgets.getOptions(),h={};return g.wordParamsAttribute&&a.hasAttribute(g.wordParamsAttribute)&&(d=a.getAttribute(g.wordParamsAttribute),c.forEach(d.split(";"),function(a){a.indexOf(":")>-1&&(f=a.split(":"),e=c.trim(f[0]),b.test(e)&&(h[e]=c.escape(c.trim(f[1]))))})),c.forEach(a.attributes,function(a){/^data-/.test(a.name)&&(e=a.name.substr("data-".length),b.test(e)&&(h[e]=c.escape(a.value)))}),h}var e="js-ccw-processed",f=/^type$|^value$/,g=[],h=[],i=0;a.findWords=function(){var a,j,k,l,m={};return h=[],a=b.findByClass(WG.ContextWidgets.WORDS_CLASS),c.forEach(a,function(a){j=a.textContent,b.hasClass(a,e)||(m=d(a,f),m.value&&(j=m.value,delete m.value),m.type&&(l=m.type,m.widget_type=m.type,delete m.type,b.addClass(a,e),k={index:i,word:j,type:l,params:m,node:a},h.push(k),g.push(k)),i++)}),!0},a.updateWordElementAttributes=function(a){c.forEach(a,function(a){var b=WG.ContextWidgets.getWidgetWordAttributes(a.type),e=new RegExp("^"+Object.keys(b).join("$|^")+"$"),f={};c.forEach(b,function(a,b){f[b]=a}),Object.keys(b).length&&(c.extend(f,d(a.node,e)),c.extend(a.params,f))})},a.getNewWords=function(){return h},a.getAllWords=function(){return g},a.clearProcessedWord=function(){return c.forEach(g,function(a){b.removeClass(a.node,e)}),g=h=[],!0},a.getUniqueTypes=function(){var a,b=[];return c.forEach(g,function(c){a=c.type,b.indexOf(a)===-1&&b.push(a)}),b}}(b.grabber={},b.DOM,b.utils),function(a,b,c,d,e,f,g){function h(a){return e.forEach(a.querySelectorAll("["+o+"]"),function(a){var c=a.parentElement||a.parentNode;a.offsetWidth<a.scrollWidth&&(b.addClass(a,a.getAttribute(o)),c.hasAttribute(p)&&b.addClass(c,c.getAttribute(p)))}),a}function i(){var a=g.createElement("style");g.getElementById(n)&&g.getElementsByTagName("body")[0].removeChild(g.getElementById(n)),a.type="text/css",a.setAttribute("id",n),a.innerHTML=d.fixRelativeUrls(f),g.body.appendChild(a)}function j(b,c,d){var f,g,h=WG.ContextWidgets.getTemplate(b),i={loading:!1,error:!1};return g=e.extend({},i,c,d),g=a.replaceContextMacros(g),f=e.template(h,g),g.error&&WG.ContextWidgets.logEvent("data_error_"+g.error),a.addUtmToLinksInHTML(f,"ccw_"+b)}function k(a){r[a.index]&&b.removeEventListener(a.node,"mouseover touchend",r[a.index]),s[a.index]&&b.removeEventListener(a.node,"mousemove",s[a.index])}function l(a){k(a),s[a.index]=e.debounce(function(a){q&&!q.isTooltipOpened&&(q.mouseX=a.originalEvent.pageX,q.mouseY=a.originalEvent.pageY)},100),r[a.index]=function(b){var e,f=WG.ContextWidgets.getContent(a.type,a.word),i={},k=q&&q.options.uid!=a.index,l=function(){return setTimeout(function(){WG.ContextWidgets.logEvent("widget_view_holdup")},2e3)};i=f?f.context:{loading:!0},k&&q.destroy(),q&&!k||(q=new c({uid:a.index,renderTo:g.documentElement,target:a.node,text:j(a.type,i,a.params)}),q.options.onRenderCallback=function(){WG.ContextWidgets.logEvent("widget_opened"),i.loading?d.loadContent(a.type,a.word,function(){f=WG.ContextWidgets.getContent(a.type,a.word),i=f?f.context:{error:"500"},q&&q.options.uid===a.index&&(q.updateContent(j(a.type,i,a.params)),h(q.element),WG.ContextWidgets.logEvent("widget_loaded_from_server"),e=l())}):(WG.ContextWidgets.logEvent("widget_loaded_from_cache"),e=l()),h(q.element)}),q.options.onDestroyCallback=function(){clearTimeout(e)},q.deferredRender()},b.addEventListener(a.node,"mouseover touchend",r[a.index]),b.addEventListener(a.node,"mousemove",s[a.index])}var m={textDecoration:"none !important",fontWeight:"bold",cursor:"pointer",borderBottom:"1px dashed currentColor"},n="ccw-common-style",o="data-reduce-class",p="data-reduce-holder-class",q=null,r=[],s=[];a.decorateWords=function(a){var c;i(),e.forEach(a,function(a){var d=e.extend({},m,WG.ContextWidgets.getOptions().decorationStyles);c=WG.ContextWidgets.getTemplate(a.type),c&&(b.containsTextOnly(a.node)||delete d.borderBottom,e.forEach(d,function(b,c){a.node.style[c]=b}),l(a))})},a.addUtmToLink=function(a,b){var c=WG.ContextWidgets.getOptions(),d={utm_source:b,utm_medium:"link",utm_campaign:c.service};return e.addQueryString(a,e.toQueryString(d))},a.addUtmToLinksInHTML=function(b,c){return b.replace(/(href=(['"]))([^\2]*?)(\2)/gi,function(b,d,e,f){return d+a.addUtmToLink(f,c)+e})},a.replaceContextMacros=function(a){var b=JSON.stringify(a),c=WG.ContextWidgets.getOptions();return b=b.replace("[SERVER]",c.server),JSON.parse(b)},a.removeWidgetEventsListeners=function(a){e.forEach(a,function(a){k(a)})}}(b.designer={},b.DOM,b.Tooltip,b.provider,b.utils,b.styles,a.document),function(b,c,d,e,f,g){function h(a){i=a}var i={};c.extend(h.prototype,{WORDS_CLASS:"ccw-word",init:function(){var a=this;this.initProperties(),d.meetsMinimumWidth()&&(this.logEvent("init"),this.run(),d.DOMChanged(i.researchIntervalSec,function(){a.run()}))},initProperties:function(){this.templates={},this.widgetWordAttributes={},this.widgetFunctions={},this.content={}},reInit:function(){g.removeWidgetEventsListeners(e.getAllWords()),e.clearProcessedWord(),this.initProperties(),this.run()},run:function(){var a,b,c=this;e.findWords(),a=e.getNewWords(),b=e.getUniqueTypes().filter(function(a){return!c.isTemplateExists(a)}),this.logEvent("found_words",a.length),f.loadTemplates(b,function(){e.updateWordElementAttributes(a),g.decorateWords(a),c.setNotLoadedTemplates(b)})},setContent:function(a){c.extend(this.content,a)},getContent:function(a,b){var c=a+":"+b;return this.content.hasOwnProperty(c)?this.content[c]:null},setTemplate:function(a,b){b=f.fixRelativeUrls(b),this.templates[a]=b},setWidgetWordAttributes:function(a,b){this.widgetWordAttributes[a]=b||{}},getWidgetWordAttributes:function(a){return this.getPropertyValueByType(this.widgetWordAttributes,a)||{}},setWidgetFunctions:function(a,b){this.widgetFunctions[a]=b||{}},getWidgetFunctions:function(a){return this.getPropertyValueByType(this.widgetFunctions,a)||{}},setNotLoadedTemplates:function(a){var b=this;c.forEach(a,function(a){b.isTemplateExists(a)||(b.templates[a]=null)})},getTemplate:function(a){return this.getPropertyValueByType(this.templates,a)},getPropertyValueByType:function(a,b){return this.isPropertyAssociatedWithType(a,b)?a[b]||a[c.typeWithoutRealm(b)]:null},isTemplateExists:function(a){return this.isPropertyAssociatedWithType(this.templates,a)},isPropertyAssociatedWithType:function(a,b){return!(!a.hasOwnProperty(b)&&!a.hasOwnProperty(c.typeWithoutRealm(b)))},setOptions:function(a){var b=!1;c.forEach(a,function(a,c){i[c]!==a&&(i[c]=a,b=!0)}),b&&this.reInit()},getOptions:function(){return i},logEvent:function(b,c){var d,e=this.getOptions(),f=1e3,g="ccw_"+b,h=function(){"undefined"!=typeof c?a[d].reachGoal(g,{price:c}):a[d].reachGoal(g)};e.yaCounterId&&(d="yaCounter"+e.yaCounterId,"undefined"!=typeof a[d]?h():setTimeout(function(){"undefined"!=typeof a[d]&&h()},f)),e.debugMode&&"undefined"!=typeof console&&console.log(g)}}),c.extend(h.prototype,{DOM:d,utils:c}),b.ContextWidgets=h}(b,b.utils,b.DOM,b.grabber,b.provider,b.designer),function(a,b,c,d){var e,f,g={},h=document.getElementById("ccw-loader");e={debugMode:location.href.indexOf("ccw-debug")>-1,yaCounterId:null,wordParamsAttribute:null,service:"ccw-default",language:"en",server:null,researchIntervalSec:0,decorationStyles:{}},h&&(f=h.getAttribute("src").match(/^(\/\/|https?:\/\/)([^\/]+)\//),g.server=f?f[2]:e.server,b.forEach(e,function(a,b){var c=h.getAttribute("data-"+b);g[b]=(e[b]instanceof Object?JSON.parse(c):c)||e[b]})),d.WG=d.WG||{},d.WG.ContextWidgets=new c(b.extend({},e,g))}(b,b.utils,b.ContextWidgets,a)}(window),WG.ContextWidgets.init();